<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#58a6ff"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3fb950"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" rx="12" fill="#0d1117"/>

  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" fill="#c9d1d9" font-size="18" font-weight="bold">DiffLoop Review Cycle</text>

  <!-- Claude Code Box -->
  <rect x="40" y="70" width="180" height="70" rx="8" fill="#161b22" stroke="#58a6ff" stroke-width="2"/>
  <text x="130" y="100" text-anchor="middle" fill="#58a6ff" font-size="14" font-weight="bold">Claude Code</text>
  <text x="130" y="120" text-anchor="middle" fill="#6e7681" font-size="12">Terminal Agent</text>

  <!-- DiffLoop Server Box -->
  <rect x="310" y="70" width="180" height="70" rx="8" fill="#161b22" stroke="#d29922" stroke-width="2"/>
  <text x="400" y="100" text-anchor="middle" fill="#d29922" font-size="14" font-weight="bold">DiffLoop</text>
  <text x="400" y="120" text-anchor="middle" fill="#6e7681" font-size="12">HTTP Server</text>

  <!-- Browser Box -->
  <rect x="580" y="70" width="180" height="70" rx="8" fill="#161b22" stroke="#3fb950" stroke-width="2"/>
  <text x="670" y="100" text-anchor="middle" fill="#3fb950" font-size="14" font-weight="bold">Browser</text>
  <text x="670" y="120" text-anchor="middle" fill="#6e7681" font-size="12">Review UI</text>

  <!-- Arrow: Claude → DiffLoop -->
  <line x1="220" y1="95" x2="305" y2="95" stroke="#58a6ff" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="262" y="88" text-anchor="middle" fill="#6e7681" font-size="10">stdin</text>

  <!-- Arrow: DiffLoop → Browser -->
  <line x1="490" y1="95" x2="575" y2="95" stroke="#58a6ff" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="532" y="88" text-anchor="middle" fill="#6e7681" font-size="10">HTTP</text>

  <!-- Step boxes -->
  <!-- Step 1 -->
  <rect x="40" y="180" width="160" height="50" rx="6" fill="#1a2332" stroke="#30363d"/>
  <text x="48" y="200" fill="#58a6ff" font-size="11" font-weight="bold">1</text>
  <text x="65" y="200" fill="#c9d1d9" font-size="12">Agent makes</text>
  <text x="65" y="216" fill="#c9d1d9" font-size="12">code changes</text>

  <!-- Step 2 -->
  <rect x="220" y="180" width="160" height="50" rx="6" fill="#1a2332" stroke="#30363d"/>
  <text x="228" y="200" fill="#58a6ff" font-size="11" font-weight="bold">2</text>
  <text x="245" y="200" fill="#c9d1d9" font-size="12">DiffLoop opens</text>
  <text x="245" y="216" fill="#c9d1d9" font-size="12">in browser</text>

  <!-- Step 3 -->
  <rect x="400" y="180" width="160" height="50" rx="6" fill="#1a2332" stroke="#30363d"/>
  <text x="408" y="200" fill="#58a6ff" font-size="11" font-weight="bold">3</text>
  <text x="425" y="200" fill="#c9d1d9" font-size="12">You review diffs</text>
  <text x="425" y="216" fill="#c9d1d9" font-size="12">+ add comments</text>

  <!-- Step 4 -->
  <rect x="580" y="180" width="180" height="50" rx="6" fill="#1a2332" stroke="#30363d"/>
  <text x="588" y="200" fill="#58a6ff" font-size="11" font-weight="bold">4</text>
  <text x="605" y="200" fill="#c9d1d9" font-size="12">Submit Review</text>
  <text x="605" y="216" fill="#6e7681" font-size="11">or Approve</text>

  <!-- Arrows between steps -->
  <line x1="200" y1="205" x2="215" y2="205" stroke="#30363d" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="380" y1="205" x2="395" y2="205" stroke="#30363d" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="560" y1="205" x2="575" y2="205" stroke="#30363d" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Loop arrow (Submit path) -->
  <path d="M 670 230 L 670 290 Q 670 310 650 310 L 150 310 Q 120 310 120 290 L 120 235" fill="none" stroke="#f85149" stroke-width="2" stroke-dasharray="6,4" marker-end="url(#arrow)"/>
  <rect x="340" y="296" width="130" height="24" rx="4" fill="#0d1117"/>
  <text x="405" y="313" text-anchor="middle" fill="#f85149" font-size="12" font-weight="bold">Submit → Loop</text>

  <!-- Approve path -->
  <line x1="670" y1="230" x2="670" y2="360" stroke="#3fb950" stroke-width="2" marker-end="url(#arrow-green)"/>
  <rect x="610" y="362" width="120" height="28" rx="6" fill="#1e4433" stroke="#3fb950"/>
  <text x="670" y="381" text-anchor="middle" fill="#3fb950" font-size="13" font-weight="bold">Approved!</text>
</svg>
